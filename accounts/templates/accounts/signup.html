{% extends 'main/base.html' %}
{% load django_bootstrap5 %}
{% load static %}

{% block style %}
<link rel="stylesheet" href="{% static 'css/accounts.css' %}">
{% endblock style %}

{% block body %}

<div class="signup">
	회원가입    
</div>
<div>
	<form action="" method="POST" class="signupform" enctype="multipart/form-data">
	{% csrf_token %}
		<div class="signupform-info">
				<div class="signupform-userimg">
					<input id='user_img' type="file" name="user_img" onchange="readImage(this);" class="d-none">
					<label for="user_img" id="preview-img" class="user_img-btn">
						<img id="preview-image" src="{% static 'image/profileimg.png' %}" alt="">
					</label>
				<p class="m-1">프로필 사진 추가(선택)</p>
				</div>
				이름
				<input type="text" name="first_name" class="signupform__input">
				아이디(ID)
				<input type="text" name="username" class="signupform__input">
				비밀번호
				<input type="password" name="password1" class="signupform__input">
				비밀번호 확인
				<input type="password" name="password2" class="signupform__input">
				주소
				<input type="text" name="address" class="signupform__input">
				이메일
				<input type="text" name="email" class="signupform__input">
      <div>
			<button type="submit" class="signupform__button">회원가입</button>
      </div>
		</div>
	</form>
</div>
  
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
<script>
	function readImage(input) {
		console.log('파일첨부');
    // 인풋 태그에 파일이 있는 경우
    if(input.files) {
        // 이미지 파일인지 검사 (생략)
        // FileReader 인스턴스 생성
        const reader = new FileReader();
				console.log('파일첨부');
        // 이미지가 로드가 된 경우
        reader.onload = e => {
					console.log('온로드');
					const previewImage = document.getElementById("preview-image")
          previewImage.src = e.target.result
					console.log("이미지요소 추가");
        }
        // reader가 이미지 읽도록 하기
        reader.readAsDataURL(input.files[0]);
    }
}
</script>

{% endblock body %}